{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\55819\\\\Downloads\\\\backend-grafica\\\\client\\\\src\\\\pages\\\\Orders.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Typography, Box, Button, Paper, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, TablePagination, Chip, TextField, InputAdornment, IconButton, Grid, Alert, CircularProgress, Stack, FormControl, Select, MenuItem } from '@mui/material';\nimport { Add as AddIcon, Search as SearchIcon, Visibility as ViewIcon, Delete as DeleteIcon, PictureAsPdf as PdfIcon, Edit as EditIcon } from '@mui/icons-material';\nimport { orderService, clientService, productService } from '../services/api';\nimport FormDialog, { ConfirmationDialog } from '../components/FormDialog';\n\n// Componente para criar pedido\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst OrderForm = ({\n  formData,\n  setFormData,\n  clients,\n  products,\n  clientsLoading,\n  productsLoading\n}) => {\n  _s();\n  const [items, setItems] = useState(formData.items || [{\n    produto: '',\n    quantidade: 1,\n    precoUnitario: 0\n  }]);\n  useEffect(() => {\n    setFormData(prev => ({\n      ...prev,\n      items\n    }));\n  }, [items, setFormData]);\n  const handleItemChange = (index, field, value) => {\n    const updatedItems = [...items];\n\n    // Se for alteração de produto, busca o preço\n    if (field === 'produto') {\n      const selectedProduct = products.find(p => p.nome === value);\n      if (selectedProduct) {\n        updatedItems[index] = {\n          ...updatedItems[index],\n          produto: value,\n          precoUnitario: selectedProduct.preco || 0\n        };\n      } else {\n        updatedItems[index][field] = value;\n      }\n    } else {\n      updatedItems[index][field] = value;\n    }\n    setItems(updatedItems);\n  };\n  const addItem = () => {\n    setItems([...items, {\n      produto: '',\n      quantidade: 1,\n      precoUnitario: 0\n    }]);\n  };\n  const removeItem = index => {\n    if (items.length > 1) {\n      const updatedItems = items.filter((_, i) => i !== index);\n      setItems(updatedItems);\n    }\n  };\n  const calculateTotal = () => {\n    return items.reduce((sum, item) => {\n      return sum + Number(item.quantidade) * Number(item.precoUnitario);\n    }, 0);\n  };\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    container: true,\n    spacing: 3,\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: 12,\n      children: /*#__PURE__*/_jsxDEV(TextField, {\n        select: true,\n        fullWidth: true,\n        label: \"Cliente\",\n        value: formData.clientId || '',\n        onChange: e => setFormData({\n          ...formData,\n          clientId: e.target.value\n        }),\n        disabled: clientsLoading,\n        required: true,\n        children: clients.map(client => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: client.id,\n          children: client.name\n        }, client.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: 12,\n      children: /*#__PURE__*/_jsxDEV(TextField, {\n        select: true,\n        fullWidth: true,\n        label: \"Status\",\n        value: formData.status || 'Pendente',\n        onChange: e => setFormData({\n          ...formData,\n          status: e.target.value\n        }),\n        required: true,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Pendente\",\n          children: \"Pendente\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Em Produ\\xE7\\xE3o\",\n          children: \"Em Produ\\xE7\\xE3o\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Finalizado\",\n          children: \"Finalizado\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Entregue\",\n          children: \"Entregue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Cancelado\",\n          children: \"Cancelado\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      xs: 12,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        gutterBottom: true,\n        children: \"Itens do Pedido\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this), items.map((item, index) => /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mb: 2,\n          p: 2,\n          border: '1px solid #e0e0e0',\n          borderRadius: 1\n        },\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 2,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 5,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              select: true,\n              fullWidth: true,\n              label: \"Produto\",\n              value: item.produto,\n              onChange: e => handleItemChange(index, 'produto', e.target.value),\n              disabled: productsLoading,\n              required: true,\n              children: products.map(product => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: product.nome,\n                children: product.nome\n              }, product.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 6,\n            sm: 2,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              type: \"number\",\n              label: \"Quantidade\",\n              value: item.quantidade,\n              onChange: e => handleItemChange(index, 'quantidade', parseInt(e.target.value) || 1),\n              inputProps: {\n                min: 1\n              },\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 6,\n            sm: 3,\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              type: \"number\",\n              label: \"Pre\\xE7o Unit\\xE1rio\",\n              value: item.precoUnitario,\n              onChange: e => handleItemChange(index, 'precoUnitario', parseFloat(e.target.value) || 0),\n              inputProps: {\n                min: 0,\n                step: 0.01\n              },\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 2,\n            sx: {\n              display: 'flex',\n              alignItems: 'center'\n            },\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              color: \"error\",\n              onClick: () => removeItem(index),\n              disabled: items.length <= 1,\n              children: \"Remover\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 13\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          mt: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 24\n          }, this),\n          onClick: addItem,\n          children: \"Adicionar Item\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          children: [\"Total: R$ \", calculateTotal().toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 5\n  }, this);\n};\n_s(OrderForm, \"pCz5E5f9VfaJE3FGXLmsUOkJSuk=\");\n_c = OrderForm;\nconst Orders = () => {\n  _s2();\n  const navigate = useNavigate();\n  const [orders, setOrders] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Estado para formulário e dialogs\n  const [openOrderForm, setOpenOrderForm] = useState(false);\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\n  const [selectedOrder, setSelectedOrder] = useState(null);\n  const [formData, setFormData] = useState({\n    status: 'Pendente',\n    items: []\n  });\n  const [isEditMode, setIsEditMode] = useState(false); // Novo estado para controlar se está em modo de edição\n\n  // Estado para clientes e produtos\n  const [clients, setClients] = useState([]);\n  const [products, setProducts] = useState([]);\n  const [clientsLoading, setClientsLoading] = useState(false);\n  const [productsLoading, setProductsLoading] = useState(false);\n\n  // Paginação e filtros\n  const [page, setPage] = useState(0);\n  const [rowsPerPage, setRowsPerPage] = useState(10);\n  const [searchTerm, setSearchTerm] = useState('');\n\n  // Carregar pedidos\n  const fetchOrders = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await orderService.getAll();\n      setOrders(response.data);\n    } catch (err) {\n      console.error('Erro ao carregar pedidos:', err);\n      setError('Não foi possível carregar os pedidos. Tente novamente mais tarde.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Carregar clientes e produtos\n  const fetchClientsAndProducts = async () => {\n    try {\n      setClientsLoading(true);\n      setProductsLoading(true);\n      const [clientsResponse, productsResponse] = await Promise.all([clientService.getAll(), productService.getAll()]);\n      setClients(clientsResponse.data);\n      setProducts(productsResponse.data);\n    } catch (err) {\n      console.error('Erro ao carregar dados para formulário:', err);\n      setError('Não foi possível carregar clientes e produtos. Tente novamente mais tarde.');\n    } finally {\n      setClientsLoading(false);\n      setProductsLoading(false);\n    }\n  };\n\n  // Efeito para carregar pedidos na inicialização\n  useEffect(() => {\n    fetchOrders();\n  }, []);\n\n  // Lidar com criação de pedido\n  const handleCreateOrder = async e => {\n    e.preventDefault();\n    try {\n      await orderService.create(formData);\n      setOpenOrderForm(false);\n      fetchOrders();\n      setFormData({\n        status: 'Pendente',\n        items: []\n      });\n    } catch (err) {\n      console.error('Erro ao criar pedido:', err);\n      setError('Não foi possível criar o pedido. Verifique os dados e tente novamente.');\n    }\n  };\n\n  // Lidar com edição de pedido\n  const handleEditOrder = async e => {\n    e.preventDefault();\n    try {\n      await orderService.update(selectedOrder.id, formData);\n      setOpenOrderForm(false);\n      fetchOrders();\n      setFormData({\n        status: 'Pendente',\n        items: []\n      });\n      setSelectedOrder(null);\n    } catch (err) {\n      console.error('Erro ao editar pedido:', err);\n      setError('Não foi possível editar o pedido. Verifique os dados e tente novamente.');\n    }\n  };\n\n  // Lidar com exclusão de pedido\n  const handleDeleteOrder = async () => {\n    if (!selectedOrder) return;\n    try {\n      await orderService.delete(selectedOrder.id);\n      setOpenDeleteDialog(false);\n      setSelectedOrder(null);\n      fetchOrders();\n    } catch (err) {\n      console.error('Erro ao excluir pedido:', err);\n      setError('Não foi possível excluir o pedido. Tente novamente mais tarde.');\n    }\n  };\n\n  // Gerar PDF do pedido\n  const handleGeneratePDF = async orderId => {\n    try {\n      setError(null); // Limpar mensagens de erro anteriores\n\n      // Feedback visual para o usuário\n      setLoading(true);\n      console.log(`Solicitando geração de PDF para o pedido: ${orderId}`);\n\n      // Fazer a requisição com timeout aumentado\n      const response = await orderService.generatePDF(orderId);\n      if (!response.data || response.data.size === 0) {\n        throw new Error('O PDF gerado está vazio ou inválido');\n      }\n\n      // Criar blob e abrir/baixar PDF\n      const blob = new Blob([response.data], {\n        type: 'application/pdf'\n      });\n      const url = window.URL.createObjectURL(blob);\n\n      // Abrir em nova janela\n      const pdfWindow = window.open(url, '_blank');\n\n      // Verificar se o popup não foi bloqueado\n      if (!pdfWindow || pdfWindow.closed || typeof pdfWindow.closed === 'undefined') {\n        console.warn('Pop-up bloqueado. Tentando fazer download direto.');\n\n        // Criar link para download direto\n        const link = document.createElement('a');\n        link.href = url;\n        link.download = `pedido-${orderId}.pdf`;\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n      }\n\n      // Limpar URL do objeto após uso\n      setTimeout(() => window.URL.revokeObjectURL(url), 100);\n    } catch (err) {\n      console.error('Erro ao gerar PDF:', err);\n\n      // Mensagem de erro mais específica\n      if (err.response) {\n        if (err.response.status === 404) {\n          setError('Pedido não encontrado. Verifique se o pedido ainda existe no sistema.');\n        } else {\n          var _err$response$data;\n          setError(`Erro ao gerar PDF: ${((_err$response$data = err.response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || err.response.status}`);\n        }\n      } else if (err.request) {\n        setError('Não foi possível conectar ao servidor. Verifique sua conexão e tente novamente.');\n      } else {\n        setError(`Erro ao gerar PDF: ${err.message}`);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Abrir formulário de pedido\n  const openCreateOrderForm = () => {\n    fetchClientsAndProducts();\n    setFormData({\n      status: 'Pendente',\n      items: [{\n        produto: '',\n        quantidade: 1,\n        precoUnitario: 0\n      }]\n    });\n    setIsEditMode(false);\n    setSelectedOrder(null);\n    setOpenOrderForm(true);\n  };\n\n  // Abrir formulário para editar pedido\n  const openEditOrderForm = order => {\n    fetchClientsAndProducts();\n\n    // Formatar os itens do pedido para o formulário\n    const formattedItems = order.items.map(item => ({\n      produto: item.produto,\n      quantidade: item.quantidade || 1,\n      precoUnitario: item.precoUnitario || 0\n    }));\n    setSelectedOrder(order);\n    setFormData({\n      clientId: order.clientId,\n      status: order.status || 'Pendente',\n      items: formattedItems\n    });\n    setIsEditMode(true);\n    setOpenOrderForm(true);\n  };\n\n  // Filtrar pedidos pelo termo de busca\n  const filteredOrders = orders.filter(order => {\n    return order.clientName && order.clientName.toLowerCase().includes(searchTerm.toLowerCase()) || order.id && order.id.toLowerCase().includes(searchTerm.toLowerCase()) || order.status && order.status.toLowerCase().includes(searchTerm.toLowerCase());\n  });\n\n  // Controles de paginação\n  const handleChangePage = (event, newPage) => {\n    setPage(newPage);\n  };\n  const handleChangeRowsPerPage = event => {\n    setRowsPerPage(parseInt(event.target.value, 10));\n    setPage(0);\n  };\n\n  // Cor do chip de status\n  const getStatusColor = status => {\n    switch (status) {\n      case 'Pendente':\n        return 'warning';\n      case 'Em Produção':\n        return 'info';\n      case 'Finalizado':\n        return 'success';\n      case 'Entregue':\n        return 'success';\n      case 'Cancelado':\n        return 'error';\n      default:\n        return 'default';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      gutterBottom: true,\n      children: \"Gerenciamento de Pedidos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mb: 3\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 451,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 2,\n      sx: {\n        mb: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 8,\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          placeholder: \"Buscar pedidos por cliente, id ou status...\",\n          value: searchTerm,\n          onChange: e => setSearchTerm(e.target.value),\n          InputProps: {\n            startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n              position: \"start\",\n              children: /*#__PURE__*/_jsxDEV(SearchIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 466,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 17\n            }, this)\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 458,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 457,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 4,\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          fullWidth: true,\n          variant: \"contained\",\n          color: \"primary\",\n          startIcon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 477,\n            columnNumber: 24\n          }, this),\n          onClick: openCreateOrderForm,\n          children: \"Novo Pedido\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 456,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      sx: {\n        width: '100%',\n        overflow: 'hidden'\n      },\n      children: loading ? /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          justifyContent: 'center',\n          p: 3\n        },\n        children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 487,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(TableContainer, {\n          sx: {\n            maxHeight: '60vh'\n          },\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            stickyHeader: true,\n            children: [/*#__PURE__*/_jsxDEV(TableHead, {\n              children: /*#__PURE__*/_jsxDEV(TableRow, {\n                children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                  children: \"ID\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 496,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: \"Cliente\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 497,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: \"Data\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 498,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: \"Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 499,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: \"Itens\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 500,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"right\",\n                  children: \"Valor Total\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 501,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"center\",\n                  children: \"A\\xE7\\xF5es\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 502,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 495,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n              children: [filteredOrders.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map(order => {\n                // Calcular valor total do pedido\n                const total = order.items.reduce((sum, item) => {\n                  return sum + item.quantidade * item.precoUnitario;\n                }, 0);\n                return /*#__PURE__*/_jsxDEV(TableRow, {\n                  hover: true,\n                  children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                    children: [order.id.substring(0, 8), \"...\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 516,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: order.clientName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 517,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: new Date(order.dataPedido).toLocaleDateString('pt-BR')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 518,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: /*#__PURE__*/_jsxDEV(FormControl, {\n                      variant: \"outlined\",\n                      size: \"small\",\n                      children: /*#__PURE__*/_jsxDEV(Select, {\n                        value: order.status,\n                        onChange: e => {\n                          const newStatus = e.target.value;\n                          orderService.updateStatus(order.id, newStatus).then(() => {\n                            // Atualiza o status na lista local\n                            const updatedOrders = orders.map(o => o.id === order.id ? {\n                              ...o,\n                              status: newStatus\n                            } : o);\n                            setOrders(updatedOrders);\n                          }).catch(err => {\n                            console.error('Erro ao atualizar status:', err);\n                            setError('Não foi possível atualizar o status do pedido.');\n                          });\n                        },\n                        renderValue: selected => /*#__PURE__*/_jsxDEV(Chip, {\n                          label: selected,\n                          color: getStatusColor(selected),\n                          size: \"small\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 541,\n                          columnNumber: 35\n                        }, this),\n                        sx: {\n                          minWidth: '120px'\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                          value: \"Pendente\",\n                          children: \"Pendente\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 549,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                          value: \"Em Produ\\xE7\\xE3o\",\n                          children: \"Em Produ\\xE7\\xE3o\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 550,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                          value: \"Finalizado\",\n                          children: \"Finalizado\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 551,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                          value: \"Entregue\",\n                          children: \"Entregue\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 552,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                          value: \"Cancelado\",\n                          children: \"Cancelado\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 553,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 523,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 522,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 521,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: [order.items.length, \" itens\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 557,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    align: \"right\",\n                    children: [\"R$ \", total.toFixed(2)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 558,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: /*#__PURE__*/_jsxDEV(Stack, {\n                      direction: \"row\",\n                      spacing: 1,\n                      justifyContent: \"center\",\n                      children: [/*#__PURE__*/_jsxDEV(IconButton, {\n                        size: \"small\",\n                        color: \"primary\",\n                        onClick: () => navigate(`/orders/${order.id}`),\n                        title: \"Ver detalhes\",\n                        children: /*#__PURE__*/_jsxDEV(ViewIcon, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 569,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 563,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n                        size: \"small\",\n                        color: \"info\",\n                        onClick: () => openEditOrderForm(order),\n                        title: \"Editar pedido\",\n                        children: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 577,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 571,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n                        size: \"small\",\n                        color: \"secondary\",\n                        onClick: () => handleGeneratePDF(order.id),\n                        title: \"Gerar PDF\",\n                        children: /*#__PURE__*/_jsxDEV(PdfIcon, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 585,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 579,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n                        size: \"small\",\n                        color: \"error\",\n                        onClick: () => {\n                          setSelectedOrder(order);\n                          setOpenDeleteDialog(true);\n                        },\n                        title: \"Excluir pedido\",\n                        children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 596,\n                          columnNumber: 33\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 587,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 562,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 561,\n                    columnNumber: 27\n                  }, this)]\n                }, order.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 515,\n                  columnNumber: 25\n                }, this);\n              }), filteredOrders.length === 0 && /*#__PURE__*/_jsxDEV(TableRow, {\n                children: /*#__PURE__*/_jsxDEV(TableCell, {\n                  colSpan: 7,\n                  align: \"center\",\n                  children: \"Nenhum pedido encontrado\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 606,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 605,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 505,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 492,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TablePagination, {\n          rowsPerPageOptions: [5, 10, 25],\n          component: \"div\",\n          count: filteredOrders.length,\n          rowsPerPage: rowsPerPage,\n          page: page,\n          onPageChange: handleChangePage,\n          onRowsPerPageChange: handleChangeRowsPerPage,\n          labelRowsPerPage: \"Itens por p\\xE1gina:\",\n          labelDisplayedRows: ({\n            from,\n            to,\n            count\n          }) => `${from}-${to} de ${count}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 615,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 485,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FormDialog, {\n      open: openOrderForm,\n      handleClose: () => {\n        setOpenOrderForm(false);\n        setIsEditMode(false);\n        setSelectedOrder(null);\n      },\n      title: isEditMode ? \"Editar Pedido\" : \"Novo Pedido\",\n      onSubmit: isEditMode ? handleEditOrder : handleCreateOrder,\n      submitButtonText: isEditMode ? \"Salvar Alterações\" : \"Criar Pedido\",\n      children: /*#__PURE__*/_jsxDEV(OrderForm, {\n        formData: formData,\n        setFormData: setFormData,\n        clients: clients,\n        products: products,\n        clientsLoading: clientsLoading,\n        productsLoading: productsLoading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 644,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 633,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ConfirmationDialog, {\n      open: openDeleteDialog,\n      handleClose: () => setOpenDeleteDialog(false),\n      title: \"Confirmar Exclus\\xE3o\",\n      message: `Tem certeza que deseja excluir o pedido ${selectedOrder === null || selectedOrder === void 0 ? void 0 : selectedOrder.id}? Esta ação não pode ser desfeita.`,\n      onConfirm: handleDeleteOrder,\n      confirmButtonText: \"Excluir\",\n      confirmButtonColor: \"error\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 655,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 445,\n    columnNumber: 5\n  }, this);\n};\n_s2(Orders, \"hRWvhKmuBJkEXuiKvOBLQm7Vxzo=\", false, function () {\n  return [useNavigate];\n});\n_c2 = Orders;\nexport default Orders;\nvar _c, _c2;\n$RefreshReg$(_c, \"OrderForm\");\n$RefreshReg$(_c2, \"Orders\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Typography","Box","Button","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","TablePagination","Chip","TextField","InputAdornment","IconButton","Grid","Alert","CircularProgress","Stack","FormControl","Select","MenuItem","Add","AddIcon","Search","SearchIcon","Visibility","ViewIcon","Delete","DeleteIcon","PictureAsPdf","PdfIcon","Edit","EditIcon","orderService","clientService","productService","FormDialog","ConfirmationDialog","jsxDEV","_jsxDEV","Fragment","_Fragment","OrderForm","formData","setFormData","clients","products","clientsLoading","productsLoading","_s","items","setItems","produto","quantidade","precoUnitario","prev","handleItemChange","index","field","value","updatedItems","selectedProduct","find","p","nome","preco","addItem","removeItem","length","filter","_","i","calculateTotal","reduce","sum","item","Number","container","spacing","children","xs","select","fullWidth","label","clientId","onChange","e","target","disabled","required","map","client","id","name","fileName","_jsxFileName","lineNumber","columnNumber","status","variant","gutterBottom","sx","mb","border","borderRadius","sm","product","type","parseInt","inputProps","min","parseFloat","step","display","alignItems","color","onClick","justifyContent","mt","startIcon","toFixed","_c","Orders","_s2","navigate","orders","setOrders","loading","setLoading","error","setError","openOrderForm","setOpenOrderForm","openDeleteDialog","setOpenDeleteDialog","selectedOrder","setSelectedOrder","isEditMode","setIsEditMode","setClients","setProducts","setClientsLoading","setProductsLoading","page","setPage","rowsPerPage","setRowsPerPage","searchTerm","setSearchTerm","fetchOrders","response","getAll","data","err","console","fetchClientsAndProducts","clientsResponse","productsResponse","Promise","all","handleCreateOrder","preventDefault","create","handleEditOrder","update","handleDeleteOrder","delete","handleGeneratePDF","orderId","log","generatePDF","size","Error","blob","Blob","url","window","URL","createObjectURL","pdfWindow","open","closed","warn","link","document","createElement","href","download","body","appendChild","click","removeChild","setTimeout","revokeObjectURL","_err$response$data","message","request","openCreateOrderForm","openEditOrderForm","order","formattedItems","filteredOrders","clientName","toLowerCase","includes","handleChangePage","event","newPage","handleChangeRowsPerPage","getStatusColor","severity","md","placeholder","InputProps","startAdornment","position","width","overflow","maxHeight","stickyHeader","align","slice","total","hover","substring","Date","dataPedido","toLocaleDateString","newStatus","updateStatus","then","updatedOrders","o","catch","renderValue","selected","minWidth","direction","title","colSpan","rowsPerPageOptions","component","count","onPageChange","onRowsPerPageChange","labelRowsPerPage","labelDisplayedRows","from","to","handleClose","onSubmit","submitButtonText","onConfirm","confirmButtonText","confirmButtonColor","_c2","$RefreshReg$"],"sources":["C:/Users/55819/Downloads/backend-grafica/client/src/pages/Orders.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { \r\n  Typography, \r\n  Box, \r\n  Button, \r\n  Paper, \r\n  Table, \r\n  TableBody, \r\n  TableCell, \r\n  TableContainer, \r\n  TableHead, \r\n  TableRow,\r\n  TablePagination,\r\n  Chip,\r\n  TextField,\r\n  InputAdornment,\r\n  IconButton,\r\n  Grid,\r\n  Alert,\r\n  CircularProgress,\r\n  Stack,\r\n  FormControl,\r\n  Select,\r\n  MenuItem\r\n} from '@mui/material';\r\nimport { \r\n  Add as AddIcon, \r\n  Search as SearchIcon,\r\n  Visibility as ViewIcon,\r\n  Delete as DeleteIcon,\r\n  PictureAsPdf as PdfIcon,\r\n  Edit as EditIcon\r\n} from '@mui/icons-material';\r\nimport { orderService, clientService, productService } from '../services/api';\r\nimport FormDialog, { ConfirmationDialog } from '../components/FormDialog';\r\n\r\n\r\n\r\n\r\n\r\n\r\n// Componente para criar pedido\r\nconst OrderForm = ({ \r\n  formData, \r\n  setFormData, \r\n  clients, \r\n  products, \r\n  clientsLoading, \r\n  productsLoading \r\n}) => {\r\n  const [items, setItems] = useState(formData.items || [{ produto: '', quantidade: 1, precoUnitario: 0 }]);\r\n\r\n  useEffect(() => {\r\n    setFormData(prev => ({ ...prev, items }));\r\n  }, [items, setFormData]);\r\n\r\n  const handleItemChange = (index, field, value) => {\r\n    const updatedItems = [...items];\r\n    \r\n    // Se for alteração de produto, busca o preço\r\n    if (field === 'produto') {\r\n      const selectedProduct = products.find(p => p.nome === value);\r\n      if (selectedProduct) {\r\n        updatedItems[index] = {\r\n          ...updatedItems[index],\r\n          produto: value,\r\n          precoUnitario: selectedProduct.preco || 0\r\n        };\r\n      } else {\r\n        updatedItems[index][field] = value;\r\n      }\r\n    } else {\r\n      updatedItems[index][field] = value;\r\n    }\r\n    \r\n    setItems(updatedItems);\r\n  };\r\n\r\n  const addItem = () => {\r\n    setItems([...items, { produto: '', quantidade: 1, precoUnitario: 0 }]);\r\n  };\r\n\r\n  const removeItem = (index) => {\r\n    if (items.length > 1) {\r\n      const updatedItems = items.filter((_, i) => i !== index);\r\n      setItems(updatedItems);\r\n    }\r\n  };\r\n\r\n  const calculateTotal = () => {\r\n    return items.reduce((sum, item) => {\r\n      return sum + (Number(item.quantidade) * Number(item.precoUnitario));\r\n    }, 0);\r\n  };\r\n\r\n  return (\r\n    <Grid container spacing={3}>\r\n      <Grid item xs={12}>\r\n        <TextField\r\n          select\r\n          fullWidth\r\n          label=\"Cliente\"\r\n          value={formData.clientId || ''}\r\n          onChange={(e) => setFormData({ ...formData, clientId: e.target.value })}\r\n          disabled={clientsLoading}\r\n          required\r\n        >\r\n          {clients.map((client) => (\r\n            <option key={client.id} value={client.id}>\r\n              {client.name}\r\n            </option>\r\n          ))}\r\n        </TextField>\r\n      </Grid>\r\n      \r\n      <Grid item xs={12}>\r\n        <TextField\r\n          select\r\n          fullWidth\r\n          label=\"Status\"\r\n          value={formData.status || 'Pendente'}\r\n          onChange={(e) => setFormData({ ...formData, status: e.target.value })}\r\n          required\r\n        >\r\n          <option value=\"Pendente\">Pendente</option>\r\n          <option value=\"Em Produção\">Em Produção</option>\r\n          <option value=\"Finalizado\">Finalizado</option>\r\n          <option value=\"Entregue\">Entregue</option>\r\n          <option value=\"Cancelado\">Cancelado</option>\r\n        </TextField>\r\n      </Grid>\r\n      \r\n      <Grid item xs={12}>\r\n        <Typography variant=\"h6\" gutterBottom>\r\n          Itens do Pedido\r\n        </Typography>\r\n        \r\n        {items.map((item, index) => (\r\n          <Box key={index} sx={{ mb: 2, p: 2, border: '1px solid #e0e0e0', borderRadius: 1 }}>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12} sm={5}>\r\n                <TextField\r\n                  select\r\n                  fullWidth\r\n                  label=\"Produto\"\r\n                  value={item.produto}\r\n                  onChange={(e) => handleItemChange(index, 'produto', e.target.value)}\r\n                  disabled={productsLoading}\r\n                  required\r\n                >\r\n                  {products.map((product) => (\r\n                    <option key={product.id} value={product.nome}>\r\n                      {product.nome}\r\n                    </option>\r\n                  ))}\r\n                </TextField>\r\n              </Grid>\r\n              \r\n              <Grid item xs={6} sm={2}>\r\n                <TextField\r\n                  fullWidth\r\n                  type=\"number\"\r\n                  label=\"Quantidade\"\r\n                  value={item.quantidade}\r\n                  onChange={(e) => handleItemChange(index, 'quantidade', parseInt(e.target.value) || 1)}\r\n                  inputProps={{ min: 1 }}\r\n                  required\r\n                />\r\n              </Grid>\r\n              \r\n              <Grid item xs={6} sm={3}>\r\n                <TextField\r\n                  fullWidth\r\n                  type=\"number\"\r\n                  label=\"Preço Unitário\"\r\n                  value={item.precoUnitario}\r\n                  onChange={(e) => handleItemChange(index, 'precoUnitario', parseFloat(e.target.value) || 0)}\r\n                  inputProps={{ min: 0, step: 0.01 }}\r\n                  required\r\n                />\r\n              </Grid>\r\n              \r\n              <Grid item xs={12} sm={2} sx={{ display: 'flex', alignItems: 'center' }}>\r\n                <Button \r\n                  color=\"error\" \r\n                  onClick={() => removeItem(index)}\r\n                  disabled={items.length <= 1}\r\n                >\r\n                  Remover\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n          </Box>\r\n        ))}\r\n        \r\n        <Box sx={{ display: 'flex', justifyContent: 'space-between', mt: 2 }}>\r\n          <Button \r\n            startIcon={<AddIcon />} \r\n            onClick={addItem}\r\n          >\r\n            Adicionar Item\r\n          </Button>\r\n          \r\n          <Typography variant=\"h6\">\r\n            Total: R$ {calculateTotal().toFixed(2)}\r\n          </Typography>\r\n        </Box>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nconst Orders = () => {\r\n  const navigate = useNavigate();\r\n  const [orders, setOrders] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  \r\n  // Estado para formulário e dialogs\r\n  const [openOrderForm, setOpenOrderForm] = useState(false);\r\n  const [openDeleteDialog, setOpenDeleteDialog] = useState(false);\r\n  const [selectedOrder, setSelectedOrder] = useState(null);\r\n  const [formData, setFormData] = useState({ status: 'Pendente', items: [] });\r\n  const [isEditMode, setIsEditMode] = useState(false); // Novo estado para controlar se está em modo de edição\r\n  \r\n  // Estado para clientes e produtos\r\n  const [clients, setClients] = useState([]);\r\n  const [products, setProducts] = useState([]);\r\n  const [clientsLoading, setClientsLoading] = useState(false);\r\n  const [productsLoading, setProductsLoading] = useState(false);\r\n  \r\n  // Paginação e filtros\r\n  const [page, setPage] = useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = useState(10);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  \r\n  // Carregar pedidos\r\n  const fetchOrders = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const response = await orderService.getAll();\r\n      setOrders(response.data);\r\n    } catch (err) {\r\n      console.error('Erro ao carregar pedidos:', err);\r\n      setError('Não foi possível carregar os pedidos. Tente novamente mais tarde.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n  // Carregar clientes e produtos\r\n  const fetchClientsAndProducts = async () => {\r\n    try {\r\n      setClientsLoading(true);\r\n      setProductsLoading(true);\r\n      \r\n      const [clientsResponse, productsResponse] = await Promise.all([\r\n        clientService.getAll(),\r\n        productService.getAll()\r\n      ]);\r\n      \r\n      setClients(clientsResponse.data);\r\n      setProducts(productsResponse.data);\r\n    } catch (err) {\r\n      console.error('Erro ao carregar dados para formulário:', err);\r\n      setError('Não foi possível carregar clientes e produtos. Tente novamente mais tarde.');\r\n    } finally {\r\n      setClientsLoading(false);\r\n      setProductsLoading(false);\r\n    }\r\n  };\r\n  \r\n  // Efeito para carregar pedidos na inicialização\r\n  useEffect(() => {\r\n    fetchOrders();\r\n  }, []);\r\n  \r\n  // Lidar com criação de pedido\r\n  const handleCreateOrder = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await orderService.create(formData);\r\n      setOpenOrderForm(false);\r\n      fetchOrders();\r\n      setFormData({ status: 'Pendente', items: [] });\r\n    } catch (err) {\r\n      console.error('Erro ao criar pedido:', err);\r\n      setError('Não foi possível criar o pedido. Verifique os dados e tente novamente.');\r\n    }\r\n  };\r\n  \r\n  // Lidar com edição de pedido\r\n  const handleEditOrder = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await orderService.update(selectedOrder.id, formData);\r\n      setOpenOrderForm(false);\r\n      fetchOrders();\r\n      setFormData({ status: 'Pendente', items: [] });\r\n      setSelectedOrder(null);\r\n    } catch (err) {\r\n      console.error('Erro ao editar pedido:', err);\r\n      setError('Não foi possível editar o pedido. Verifique os dados e tente novamente.');\r\n    }\r\n  };\r\n  \r\n  // Lidar com exclusão de pedido\r\n  const handleDeleteOrder = async () => {\r\n    if (!selectedOrder) return;\r\n    \r\n    try {\r\n      await orderService.delete(selectedOrder.id);\r\n      setOpenDeleteDialog(false);\r\n      setSelectedOrder(null);\r\n      fetchOrders();\r\n    } catch (err) {\r\n      console.error('Erro ao excluir pedido:', err);\r\n      setError('Não foi possível excluir o pedido. Tente novamente mais tarde.');\r\n    }\r\n  };\r\n  \r\n  // Gerar PDF do pedido\r\n  const handleGeneratePDF = async (orderId) => {\r\n    try {\r\n      setError(null); // Limpar mensagens de erro anteriores\r\n      \r\n      // Feedback visual para o usuário\r\n      setLoading(true);\r\n      console.log(`Solicitando geração de PDF para o pedido: ${orderId}`);\r\n      \r\n      // Fazer a requisição com timeout aumentado\r\n      const response = await orderService.generatePDF(orderId);\r\n      \r\n      if (!response.data || response.data.size === 0) {\r\n        throw new Error('O PDF gerado está vazio ou inválido');\r\n      }\r\n      \r\n      // Criar blob e abrir/baixar PDF\r\n      const blob = new Blob([response.data], { type: 'application/pdf' });\r\n      const url = window.URL.createObjectURL(blob);\r\n      \r\n      // Abrir em nova janela\r\n      const pdfWindow = window.open(url, '_blank');\r\n      \r\n      // Verificar se o popup não foi bloqueado\r\n      if (!pdfWindow || pdfWindow.closed || typeof pdfWindow.closed === 'undefined') {\r\n        console.warn('Pop-up bloqueado. Tentando fazer download direto.');\r\n        \r\n        // Criar link para download direto\r\n        const link = document.createElement('a');\r\n        link.href = url;\r\n        link.download = `pedido-${orderId}.pdf`;\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        document.body.removeChild(link);\r\n      }\r\n      \r\n      // Limpar URL do objeto após uso\r\n      setTimeout(() => window.URL.revokeObjectURL(url), 100);\r\n      \r\n    } catch (err) {\r\n      console.error('Erro ao gerar PDF:', err);\r\n      \r\n      // Mensagem de erro mais específica\r\n      if (err.response) {\r\n        if (err.response.status === 404) {\r\n          setError('Pedido não encontrado. Verifique se o pedido ainda existe no sistema.');\r\n        } else {\r\n          setError(`Erro ao gerar PDF: ${err.response.data?.message || err.response.status}`);\r\n        }\r\n      } else if (err.request) {\r\n        setError('Não foi possível conectar ao servidor. Verifique sua conexão e tente novamente.');\r\n      } else {\r\n        setError(`Erro ao gerar PDF: ${err.message}`);\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n  // Abrir formulário de pedido\r\n  const openCreateOrderForm = () => {\r\n    fetchClientsAndProducts();\r\n    setFormData({ status: 'Pendente', items: [{ produto: '', quantidade: 1, precoUnitario: 0 }] });\r\n    setIsEditMode(false);\r\n    setSelectedOrder(null);\r\n    setOpenOrderForm(true);\r\n  };\r\n  \r\n  // Abrir formulário para editar pedido\r\n  const openEditOrderForm = (order) => {\r\n    fetchClientsAndProducts();\r\n    \r\n    // Formatar os itens do pedido para o formulário\r\n    const formattedItems = order.items.map(item => ({\r\n      produto: item.produto,\r\n      quantidade: item.quantidade || 1,\r\n      precoUnitario: item.precoUnitario || 0\r\n    }));\r\n    \r\n    setSelectedOrder(order);\r\n    setFormData({\r\n      clientId: order.clientId,\r\n      status: order.status || 'Pendente',\r\n      items: formattedItems\r\n    });\r\n    setIsEditMode(true);\r\n    setOpenOrderForm(true);\r\n  };\r\n  \r\n  // Filtrar pedidos pelo termo de busca\r\n  const filteredOrders = orders.filter(order => {\r\n    return (\r\n      (order.clientName && order.clientName.toLowerCase().includes(searchTerm.toLowerCase())) ||\r\n      (order.id && order.id.toLowerCase().includes(searchTerm.toLowerCase())) ||\r\n      (order.status && order.status.toLowerCase().includes(searchTerm.toLowerCase()))\r\n    );\r\n  });\r\n  \r\n  // Controles de paginação\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n  \r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(parseInt(event.target.value, 10));\r\n    setPage(0);\r\n  };\r\n  \r\n  // Cor do chip de status\r\n  const getStatusColor = (status) => {\r\n    switch (status) {\r\n      case 'Pendente': return 'warning';\r\n      case 'Em Produção': return 'info';\r\n      case 'Finalizado': return 'success';\r\n      case 'Entregue': return 'success';\r\n      case 'Cancelado': return 'error';\r\n      default: return 'default';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box>\r\n      <Typography variant=\"h4\" gutterBottom>\r\n        Gerenciamento de Pedidos\r\n      </Typography>\r\n      \r\n      {error && (\r\n        <Alert severity=\"error\" sx={{ mb: 3 }}>\r\n          {error}\r\n        </Alert>\r\n      )}\r\n      \r\n      <Grid container spacing={2} sx={{ mb: 3 }}>\r\n        <Grid item xs={12} sm={6} md={8}>\r\n          <TextField\r\n            fullWidth\r\n            placeholder=\"Buscar pedidos por cliente, id ou status...\"\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <SearchIcon />\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12} sm={6} md={4}>\r\n          <Button\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            startIcon={<AddIcon />}\r\n            onClick={openCreateOrderForm}\r\n          >\r\n            Novo Pedido\r\n          </Button>\r\n        </Grid>\r\n      </Grid>\r\n      \r\n      <Paper sx={{ width: '100%', overflow: 'hidden' }}>\r\n        {loading ? (\r\n          <Box sx={{ display: 'flex', justifyContent: 'center', p: 3 }}>\r\n            <CircularProgress />\r\n          </Box>\r\n        ) : (\r\n          <>\r\n            <TableContainer sx={{ maxHeight: '60vh' }}>\r\n              <Table stickyHeader>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>ID</TableCell>\r\n                    <TableCell>Cliente</TableCell>\r\n                    <TableCell>Data</TableCell>\r\n                    <TableCell>Status</TableCell>\r\n                    <TableCell>Itens</TableCell>\r\n                    <TableCell align=\"right\">Valor Total</TableCell>\r\n                    <TableCell align=\"center\">Ações</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  {filteredOrders\r\n                    .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n                    .map((order) => {\r\n                      // Calcular valor total do pedido\r\n                      const total = order.items.reduce((sum, item) => {\r\n                        return sum + (item.quantidade * item.precoUnitario);\r\n                      }, 0);\r\n                      \r\n                      return (\r\n                        <TableRow hover key={order.id}>\r\n                          <TableCell>{order.id.substring(0, 8)}...</TableCell>\r\n                          <TableCell>{order.clientName}</TableCell>\r\n                          <TableCell>\r\n                            {new Date(order.dataPedido).toLocaleDateString('pt-BR')}\r\n                          </TableCell>\r\n                          <TableCell>\r\n                            <FormControl variant=\"outlined\" size=\"small\">\r\n                              <Select\r\n                                value={order.status}\r\n                                onChange={(e) => {\r\n                                  const newStatus = e.target.value;\r\n                                  orderService.updateStatus(order.id, newStatus)\r\n                                    .then(() => {\r\n                                      // Atualiza o status na lista local\r\n                                      const updatedOrders = orders.map(o => \r\n                                        o.id === order.id ? {...o, status: newStatus} : o\r\n                                      );\r\n                                      setOrders(updatedOrders);\r\n                                    })\r\n                                    .catch(err => {\r\n                                      console.error('Erro ao atualizar status:', err);\r\n                                      setError('Não foi possível atualizar o status do pedido.');\r\n                                    });\r\n                                }}\r\n                                renderValue={(selected) => (\r\n                                  <Chip \r\n                                    label={selected} \r\n                                    color={getStatusColor(selected)}\r\n                                    size=\"small\"\r\n                                  />\r\n                                )}\r\n                                sx={{ minWidth: '120px' }}\r\n                              >\r\n                                <MenuItem value=\"Pendente\">Pendente</MenuItem>\r\n                                <MenuItem value=\"Em Produção\">Em Produção</MenuItem>\r\n                                <MenuItem value=\"Finalizado\">Finalizado</MenuItem>\r\n                                <MenuItem value=\"Entregue\">Entregue</MenuItem>\r\n                                <MenuItem value=\"Cancelado\">Cancelado</MenuItem>\r\n                              </Select>\r\n                            </FormControl>\r\n                          </TableCell>\r\n                          <TableCell>{order.items.length} itens</TableCell>\r\n                          <TableCell align=\"right\">\r\n                            R$ {total.toFixed(2)}\r\n                          </TableCell>\r\n                          <TableCell>\r\n                            <Stack direction=\"row\" spacing={1} justifyContent=\"center\">\r\n                              <IconButton \r\n                                size=\"small\" \r\n                                color=\"primary\"\r\n                                onClick={() => navigate(`/orders/${order.id}`)}\r\n                                title=\"Ver detalhes\"\r\n                              >\r\n                                <ViewIcon />\r\n                              </IconButton>\r\n                              <IconButton \r\n                                size=\"small\"\r\n                                color=\"info\"\r\n                                onClick={() => openEditOrderForm(order)}\r\n                                title=\"Editar pedido\"\r\n                              >\r\n                                <EditIcon />\r\n                              </IconButton>\r\n                              <IconButton \r\n                                size=\"small\"\r\n                                color=\"secondary\"\r\n                                onClick={() => handleGeneratePDF(order.id)}\r\n                                title=\"Gerar PDF\"\r\n                              >\r\n                                <PdfIcon />\r\n                              </IconButton>\r\n                              <IconButton \r\n                                size=\"small\" \r\n                                color=\"error\"\r\n                                onClick={() => {\r\n                                  setSelectedOrder(order);\r\n                                  setOpenDeleteDialog(true);\r\n                                }}\r\n                                title=\"Excluir pedido\"\r\n                              >\r\n                                <DeleteIcon />\r\n                              </IconButton>\r\n                            </Stack>\r\n                          </TableCell>\r\n                        </TableRow>\r\n                      );\r\n                    })}\r\n                  \r\n                  {filteredOrders.length === 0 && (\r\n                    <TableRow>\r\n                      <TableCell colSpan={7} align=\"center\">\r\n                        Nenhum pedido encontrado\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  )}\r\n                </TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n            \r\n            <TablePagination\r\n              rowsPerPageOptions={[5, 10, 25]}\r\n              component=\"div\"\r\n              count={filteredOrders.length}\r\n              rowsPerPage={rowsPerPage}\r\n              page={page}\r\n              onPageChange={handleChangePage}\r\n              onRowsPerPageChange={handleChangeRowsPerPage}\r\n              labelRowsPerPage=\"Itens por página:\"\r\n              labelDisplayedRows={({ from, to, count }) => \r\n                `${from}-${to} de ${count}`\r\n              }\r\n            />\r\n          </>\r\n        )}\r\n      </Paper>\r\n      \r\n      {/* Diálogo de criação/edição de pedido */}\r\n      <FormDialog\r\n        open={openOrderForm}\r\n        handleClose={() => {\r\n          setOpenOrderForm(false);\r\n          setIsEditMode(false);\r\n          setSelectedOrder(null);\r\n        }}\r\n        title={isEditMode ? \"Editar Pedido\" : \"Novo Pedido\"}\r\n        onSubmit={isEditMode ? handleEditOrder : handleCreateOrder}\r\n        submitButtonText={isEditMode ? \"Salvar Alterações\" : \"Criar Pedido\"}\r\n      >\r\n        <OrderForm\r\n          formData={formData}\r\n          setFormData={setFormData}\r\n          clients={clients}\r\n          products={products}\r\n          clientsLoading={clientsLoading}\r\n          productsLoading={productsLoading}\r\n        />\r\n      </FormDialog>\r\n      \r\n      {/* Diálogo de confirmação de exclusão */}\r\n      <ConfirmationDialog\r\n        open={openDeleteDialog}\r\n        handleClose={() => setOpenDeleteDialog(false)}\r\n        title=\"Confirmar Exclusão\"\r\n        message={`Tem certeza que deseja excluir o pedido ${selectedOrder?.id}? Esta ação não pode ser desfeita.`}\r\n        onConfirm={handleDeleteOrder}\r\n        confirmButtonText=\"Excluir\"\r\n        confirmButtonColor=\"error\"\r\n      />\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Orders;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}